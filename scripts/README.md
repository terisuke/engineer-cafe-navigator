# Scripts Directory

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€Engineer Cafe Navigatorã®é–‹ç™ºãƒ»é‹ç”¨ãƒ»ãƒ†ã‚¹ãƒˆã«ä½¿ç”¨ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

## ğŸ§ª ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆæ–°æ§‹é€ ï¼‰

### çµ±åˆãƒ†ã‚¹ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: `tests/`

ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯æ•´ç†ãƒ»çµ±åˆã•ã‚Œã€`tests/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•ã—ã¾ã—ãŸã€‚

#### ãƒ¡ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«:
- **`tests/integrated-test-suite.ts`** â­ - **çµ±åˆãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ**
  - å…¨ä¸»è¦æ©Ÿèƒ½ã‚’ã‚«ãƒãƒ¼ã™ã‚‹åŒ…æ‹¬çš„ãƒ†ã‚¹ãƒˆ
  - ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ æ¡ç”¨
  - åŸºæœ¬æƒ…å ±ã€æ–½è¨­ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã€ãƒ¡ãƒ¢ãƒªã€å¤šè¨€èªå¯¾å¿œ
  - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æºã€Webã‚µãƒ¼ãƒã€STTè£œæ­£ã®ãƒ†ã‚¹ãƒˆè¿½åŠ 
  
- **`tests/router-agent-test.ts`** - RouterAgentå°‚ç”¨ãƒ†ã‚¹ãƒˆ
  - ã‚¯ã‚¨ãƒªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ã®æ¤œè¨¼
  - ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆé¸æŠã¨ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚¿ã‚¤ãƒ—ã®ç²¾åº¦æ¸¬å®š
  
- **`tests/calendar-integration-test.ts`** - ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æºãƒ†ã‚¹ãƒˆ
  - Google Calendarçµ±åˆã®å‹•ä½œç¢ºèª
  
- **`tests/run-tests.ts`** - ãƒ†ã‚¹ãƒˆãƒ©ãƒ³ãƒŠãƒ¼
  - å…¨ãƒ†ã‚¹ãƒˆã¾ãŸã¯ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã‚’å®Ÿè¡Œ

#### ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£:
- **`tests/utils/test-evaluation.ts`** - ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯è©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ 
  - åŒç¾©èªèªè­˜ã€æ¦‚å¿µã‚°ãƒ«ãƒ¼ãƒ—ãƒãƒƒãƒãƒ³ã‚°
  - 60%é–¾å€¤ã®æŸ”è»Ÿãªè©•ä¾¡åŸºæº–

### ãƒ¬ã‚¬ã‚·ãƒ¼ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆéæ¨å¥¨ï¼‰
ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯æ–°æ§‹é€ ã«çµ±åˆã•ã‚Œã¾ã—ãŸï¼š
- `test-basement-queries.ts` â†’ integrated-test-suite.tsã«çµ±åˆ
- `test-enhanced-rag.ts` â†’ integrated-test-suite.tsã«çµ±åˆ  
- `test-specific-queries.ts` â†’ integrated-test-suite.tsã«çµ±åˆ
- `final-comprehensive-test.ts` â†’ integrated-test-suite.tsã«çµ±åˆ

## ğŸ”§ é–‹ç™ºãƒ»é‹ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### Knowledge Base Management
- **`seed-knowledge-base.ts`** - çŸ¥è­˜ãƒ™ãƒ¼ã‚¹ã®åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥
- **`import-markdown-knowledge.ts`** - Markdownãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã®çŸ¥è­˜ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
- **`import-slide-narrations.ts`** - ã‚¹ãƒ©ã‚¤ãƒ‰ãƒŠãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
- **`migrate-to-openai-embeddings.ts`** - OpenAI embeddingsç§»è¡Œ

### Database Operations
- **`setup-admin-knowledge.ts`** - ç®¡ç†è€…çŸ¥è­˜ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹è¨­å®š
- **`update-database-schema.ts`** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒæ›´æ–°
- **`execute-sql.ts`** - SQLã‚¯ã‚¨ãƒªå®Ÿè¡Œãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£

### Testing & Verification
- **`check-knowledge-base.ts`** - çŸ¥è­˜ãƒ™ãƒ¼ã‚¹ã®æ•´åˆæ€§ãƒã‚§ãƒƒã‚¯
- **`debug-categorization.ts`** - ã‚«ãƒ†ã‚´ãƒªåˆ†é¡ã®ãƒ‡ãƒãƒƒã‚°
- **`final-comprehensive-test.ts`** - åŒ…æ‹¬çš„ã‚·ã‚¹ãƒ†ãƒ ãƒ†ã‚¹ãƒˆ

## ğŸ“ ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–

### `archive/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
æ—§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚„å®Ÿé¨“çš„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¿ç®¡:
- **`migrate-all-knowledge.ts`** - æ—§å‹çŸ¥è­˜ãƒ™ãƒ¼ã‚¹ç§»è¡Œ
- **`fix-*.ts`** - å„ç¨®ä¿®æ­£ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å±¥æ­´
- **`*.sql`** - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿®æ­£ã‚¯ã‚¨ãƒª

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### ãƒ¡ã‚¤ãƒ³ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
```bash
# å…¨ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã‚’å®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰
pnpm test

# ç‰¹å®šã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã‚’å®Ÿè¡Œ
pnpm test:integrated    # çµ±åˆãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆ
pnpm test:router        # RouterAgentãƒ†ã‚¹ãƒˆ
pnpm test:calendar      # ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼é€£æºãƒ†ã‚¹ãƒˆ

# ã¾ãŸã¯ã€scriptsãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰ç›´æ¥å®Ÿè¡Œ
cd scripts/tests
npx tsx run-tests.ts
npx tsx run-tests.ts integrated
npx tsx run-tests.ts router
npx tsx run-tests.ts calendar
```

### é–‹ç™ºç”¨ãƒ„ãƒ¼ãƒ«
```bash
# çŸ¥è­˜ãƒ™ãƒ¼ã‚¹ãƒã‚§ãƒƒã‚¯
npx tsx -r dotenv/config scripts/check-knowledge-base.ts

# RouterAgentãƒ†ã‚¹ãƒˆ
npx tsx -r dotenv/config scripts/test-router-agent.ts
```

## ğŸ“Š ãƒ†ã‚¹ãƒˆè©•ä¾¡ã‚·ã‚¹ãƒ†ãƒ ã®é€²åŒ–

### å¾“æ¥å‹ (Legacy)
- **å³æ ¼ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒãƒãƒ³ã‚°**: 70%é–¾å€¤
- **åŒç¾©èªèªè­˜ãªã—**: "hours" â‰  "å–¶æ¥­æ™‚é–“"
- **çµæœ**: 28.6%æˆåŠŸç‡ (èª¤æ¸¬å®š)

### è¿‘ä»£å‹ (Current) â­
- **ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯è©•ä¾¡**: æ„å‘³ç†è§£ãƒ™ãƒ¼ã‚¹
- **åŒç¾©èªãƒ»æ¦‚å¿µèªè­˜**: "hours" = "å–¶æ¥­æ™‚é–“" = "æ™‚é–“"
- **ç¾å®Ÿçš„æœŸå¾…å€¤**: ã‚·ã‚¹ãƒ†ãƒ æ”¹å–„ã‚’æ­£ç¢ºã«åæ˜ 
- **çµæœ**: 100%æˆåŠŸç‡ (æ­£ç¢ºæ¸¬å®š)

## ğŸ¯ é‡è¦ãªæ”¹å–„ç‚¹

1. **æ¸¬å®šç²¾åº¦ã®å‘ä¸Š**: æ”¹å–„åŠ¹æœã‚’æ­£ã—ãæ¸¬å®š
2. **æ–°æ©Ÿèƒ½å¯¾å¿œ**: Enhanced RAGã€RouterAgentã€Memory System
3. **ç¾å®Ÿçš„è©•ä¾¡**: éåº¦ã«å³æ ¼ã§ãªã„æœŸå¾…å€¤è¨­å®š
4. **è©³ç´°åˆ†æ**: ã‚¹ã‚³ã‚¢ã€æ¦‚å¿µãƒ’ãƒ³ãƒˆã€ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯è©³ç´°

ã“ã®ãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã«ã‚ˆã‚Šã€Engineer Cafe Navigatorã®ç¶™ç¶šçš„ãªå“è³ªå‘ä¸Šã¨æ­£ç¢ºãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ¸¬å®šãŒå®Ÿç¾ã•ã‚Œã¦ã„ã¾ã™ã€‚